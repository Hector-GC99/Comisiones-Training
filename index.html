<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esquema de Comisiones - Ejecutivos Training</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Century+Gothic&display=swap');

        :root {
            --teal-dark: #004d4d;
            --teal: #008080;
            --aqua: #40E0D0;
            --mint: #98FF98;
            --mint-light: #F0FFF4;
            --white: #ffffff;
            --gray-bg: #e0f2f1;
            --red-retention: #ff0000;
        }

        * { box-sizing: border-box; }

        body {
            background-color: var(--gray-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
            font-family: 'Century Gothic', sans-serif;
            color: var(--teal-dark);
            gap: 40px;
        }

        /* Botón descarga */
        .download-btn {
            position: fixed; bottom: 20px; right: 20px;
            background: var(--teal-dark); color: white;
            padding: 15px 25px; border-radius: 50px;
            text-decoration: none; font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            border: 2px solid var(--aqua); cursor: pointer;
            z-index: 1000; transition: 0.3s;
        }
        .download-btn:hover { background: var(--teal); transform: scale(1.05); }

        .slide-container {
            align-items: center;
            background-color: var(--white);
            display: flex;
            flex-direction: column;
            height: 720px;
            justify-content: flex-start;
            overflow: hidden;
            position: relative;
            width: 1280px;
            box-shadow: 0 15px 35px rgba(0,128,128,0.15);
            border-radius: 12px;
            flex-shrink: 0;
        }

        /* Blobs Fondo */
        .blob { position: absolute; border-radius: 50%; filter: blur(80px); z-index: 0; opacity: 0.1; }
        .blob-1 { top: -100px; right: -100px; width: 500px; height: 500px; background: var(--aqua); }
        .blob-2 { bottom: -50px; left: -50px; width: 400px; height: 400px; background: var(--teal); }

        /* Header */
        .slide-header {
            width: 100%; padding: 20px 50px; display: flex; justify-content: space-between; align-items: center; z-index: 2; border-bottom: 3px solid var(--teal); background: rgba(255,255,255,0.95);
        }
        .slide-title { font-size: 28px; color: var(--teal); font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }

        /* --- SLIDE 1: DASHBOARD --- */
        .dashboard-layout { display: grid; grid-template-columns: 320px 1fr; width: 100%; height: 100%; z-index: 2; }
        .sidebar { background: linear-gradient(160deg, var(--teal), #003333); color: var(--white); padding: 40px 30px; display: flex; flex-direction: column; gap: 20px; }
        
        .custom-select { width: 100%; padding: 10px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white; border-radius: 5px; font-family: inherit; }
        .custom-select option { background: #003333; }
        
        .month-selector { display: flex; gap: 5px; }
        .month-btn { flex: 1; padding: 8px; background: transparent; border: 1px solid rgba(255,255,255,0.5); color: white; cursor: pointer; border-radius: 4px; }
        .month-btn.active { background: var(--white); color: var(--teal-dark); font-weight: bold; }

        .salary-card { margin-top: auto; background: rgba(255,255,255,0.1); border: 1px solid var(--aqua); padding: 20px; text-align: center; border-radius: 10px; }
        .salary-val { font-size: 40px; font-weight: bold; display: block; margin: 10px 0; }

        .content-grid { padding: 30px; display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap: 20px; }
        .dash-card { border: 1px solid #eee; border-radius: 10px; display: flex; flex-direction: column; box-shadow: 0 5px 10px rgba(0,0,0,0.03); background: white; }
        .card-head { background: var(--mint-light); color: var(--teal); font-weight: bold; padding: 10px 15px; border-bottom: 1px solid #eee; font-size: 14px; }
        .card-body { padding: 15px; font-size: 13px; display: flex; flex-direction: column; justify-content: center; }
        .info-table { width: 100%; border-collapse: collapse; }
        .info-table td { padding: 5px 0; border-bottom: 1px solid #f0f0f0; }
        .h-val { font-weight: bold; color: var(--teal-dark); font-size: 16px; }
        
        .highlight-text-mty { font-size: 18px; color: var(--teal); font-weight: bold; line-height: 1.4; text-align: center; }

        /* --- SLIDE 2: PROCESO --- */
        .process-layout { padding: 40px 60px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: center; height: 100%; z-index: 2; }
        .process-step { display: flex; gap: 15px; margin-bottom: 25px; }
        .p-icon { width: 45px; height: 45px; background: var(--mint-light); color: var(--teal); border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 20px; flex-shrink: 0; }
        .cuida-box { border: 2px dashed var(--teal); border-radius: 15px; padding: 20px; text-align: center; margin-top: 20px; }

        /* --- SLIDE 3: 4 CUADRANTES --- */
        /* FIX DE LAYOUT: Se ajusta el padding inferior para evitar la superposición con el total-bar */
        .quad-layout { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            grid-template-rows: 1fr 1fr; 
            gap: 20px; 
            padding: 30px 50px 90px 50px; /* Incrementado de 30px a 90px para espacio del footer */
            width: 100%; 
            height: 100%; 
            z-index: 2; 
        }
        .quad-card { background: var(--white); border-radius: 10px; padding: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); display: flex; flex-direction: column; border-top: 4px solid var(--teal); }
        .quad-title { font-weight: bold; color: var(--teal); margin-bottom: 10px; display: flex; justify-content: space-between; font-size: 14px; }
        
        .q-input-row { display: flex; gap: 5px; margin-bottom: 5px; align-items: center; }
        .q-select { flex: 2; padding: 5px; border: 1px solid #ccc; border-radius: 4px; font-size: 11px; }
        .q-input-rent { flex: 1; padding: 5px; border: 1px solid #ccc; border-radius: 4px; font-size: 11px; width: 80px; }
        .q-qty { width: 40px; padding: 5px; border: 1px solid #ccc; border-radius: 4px; text-align: center; font-size: 11px; }
        .q-btn { background: var(--teal); color: white; border: none; border-radius: 4px; cursor: pointer; width: 25px; height: 25px; font-weight: bold;}
        
        .q-list { flex-grow: 1; overflow-y: auto; font-size: 11px; margin-bottom: 10px; border: 1px solid #eee; padding: 5px; height: 60px; }
        .q-total { text-align: right; font-weight: bold; color: var(--teal-dark); border-top: 1px solid #eee; padding-top: 5px; font-size: 14px; }

        .breakdown-group { display: flex; flex-direction: column; gap: 2px; justify-content: center; }
        .breakdown-item { font-size: 18px; }
        .breakdown-retention { font-size: 18px; color: var(--red-retention); font-weight: bold; background: rgba(255,255,255,0.1); padding: 0 5px; border-radius: 3px; }
        .final-pay-box { text-align: right; }
        .final-pay-label { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; color: var(--aqua); }
        .final-pay-val { font-size: 40px; font-weight: bold; line-height: 1; }

        .total-bar { position: absolute; bottom: 0; width: 100%; background: var(--teal-dark); color: white; padding: 20px 50px; display: flex; justify-content: space-between; align-items: center; z-index: 10; font-size: 14px; }
        .retention-text { color: var(--red-retention); font-size: 16px; font-weight: bold; margin-left: 15px; background: rgba(255,255,255,0.9); padding: 2px 8px; border-radius: 4px; }

        /* --- SLIDE 4: MENSUAL REALISTA --- 
        .monthly-layout { padding: 30px 50px; z-index: 2; width: 100%; height: 100%; display: grid; grid-template-rows: auto 1fr; gap: 20px;}
        .m-grid-container { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; }
        .m-card { background: white; padding: 10px; border-radius: 8px; box-shadow: 0 3px 6px rgba(0,0,0,0.05); text-align: center; border: 1px solid #eee; }
        .m-card h4 { margin: 0 0 8px 0; font-size: 11px; color: var(--teal); }
        .m-card input { width: 100%; padding: 5px; text-align: center; border: 1px solid var(--aqua); border-radius: 4px; font-weight: bold; }
        
        .final-summary { background: white; border: 1px solid #ddd; border-radius: 15px; padding: 25px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .summary-list { list-style: none; padding: 0; margin: 0; width: 100%; font-size: 18px; }
        .summary-list li { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px dashed #eee; }
        .summary-list li:last-child { border-bottom: none; font-weight: bold; font-size: 24px; margin-top: 15px; color: var(--teal-dark); border-top: 2px solid var(--teal); padding-top: 15px; }
        
        .retention-row { color: var(--red-retention); font-weight: bold; font-size: 20px; }*/

    </style>
</head>
<body>

<!--<button class="download-btn" onclick="downloadHTML()">
    <i class="fa-solid fa-download"></i> Descargar Presentación
</button> -->

<script>
    function downloadHTML() {
        const html = document.documentElement.outerHTML;
        const blob = new Blob([html], {type: 'text/html'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url; a.download = 'Comisiones_Training_V18.html';
        a.click();
    }

    // --- DATA ---
    const CITIES = {
        "CDMX": { region: "CENTRO", name: "Cd. México", base: 2000, type: "STD" },
        "TOL": { region: "CENTRO", name: "Toluca", base: 2000, type: "STD" },
        "MXL": { region: "BAJA", name: "Mexicali", base: 3000, type: "STD" },
        "ENS": { region: "BAJA", name: "Ensenada", base: 3000, type: "ENS" },
        "TIJ": { region: "BAJA", name: "Tijuana", base: 2000, type: "STD" },
        "MTY": { region: "NORTE", name: "Monterrey", base: 2500, type: "MTY" },
        "SAL": { region: "NORTE", name: "Saltillo", base: 2500, type: "MTY" },
        "GDL": { region: "PACIFICO", name: "Guadalajara", base: 2000, type: "GDL" },
        "PUE": { region: "SUR", name: "Puebla", base: 2000, type: "STD" },
        "VER": { region: "SUR", name: "Veracruz", base: 2000, type: "STD" }
    };

    const RULES = {
        "STD": { w_quota: [1, 1.5, 2], m_quota: [4, 6, 8], f_plus: [1, 1.2, 1.5], recalc_desc: "" },
        "ENS": { w_quota: [1, 1.5, 2], m_quota: [4, 6, 8], f_plus: [1, 1.2, 1.5], recalc_desc: "" },
        "MTY": { w_quota: [1, 1.5, 2], m_quota: [4, 6, 8], f_plus: [1, 1.2, 1.5], recalc_desc: "" },       
        "GDL": { w_quota: [1, 1.5, 2], m_quota: [4, 6, 8], f_plus: [1, 1.2, 1.5], recalc_desc: "" }
    };

    // LISTAS DE PLANES
    const PRODUCTS = {
        activations: [
            { name: "Azul 1", rent: 266.99, type: "BASIC" },
            { name: "Azul 2", rent: 350.68, type: "PLUS" },
            { name: "Azul 3", rent: 442.75, type: "PLUS" },
            { name: "Black", rent: 668.73, type: "PLUS" },
            { name: "Oro", rent: 585.03, type: "PLUS" },
            { name: "Plata", rent: 526.44, type: "PLUS" },
            { name: "Diamante", rent: 1053.73, type: "PLUS" },
            { name: "Titanio", rent: 668.73, type: "PLUS" },
            { name: "Platino", rent: 836.12, type: "PLUS" },
            { name: "Lite 1", rent: 266.99, type: "BASIC" },
            { name: "Lite 2", rent: 350.68, type: "PLUS" },
            { name: "Lite 3", rent: 442.75, type: "PLUS" },
            { name: "Lite 4", rent: 526.44, type: "PLUS" },
            { name: "Lite 5", rent: 585.03, type: "PLUS" },
            { name: "Lite 6", rent: 836.12, type: "PLUS" },
            { name: "Lite 7", rent: 1212.75, type: "PLUS" }
        ],
        renovations: [
            { name: "Azul 1", rent: 266.99, type: "BASIC" },
            { name: "Azul 2", rent: 350.68, type: "PLUS" },
            { name: "Azul 3", rent: 442.75, type: "RENO" },
            { name: "Black", rent: 668.73, type: "RENO" },
            { name: "Oro", rent: 585.03, type: "RENO" },
            { name: "Plata", rent: 526.44, type: "RENO" },
            { name: "Diamante", rent: 1053.73, type: "RENO" },
            { name: "Titanio", rent: 668.73, type: "RENO" },
            { name: "Platino", rent: 836.12, type: "RENO" }
        ],
        simples: [
            { name: "Simple 12M", factor: 0.5, type: "SIMPLE" },
            { name: "Simple 18/24M", factor: 1.0, type: "SIMPLE" }
        ],
        empresarial: [
            { name: "Ármalo 12M (Act)", factor: 1.0, type: "B2B_STD" },
            { name: "Ármalo 18/24M (Act)", factor: 1.5, type: "B2B_STD" },
            { name: "Simple Neg 12M", factor: 1.0, type: "SIMPLE" },
            { name: "Simple Neg 24M", factor: 2.0, type: "SIMPLE" }
        ]
    };

    let state = { city: 'CDMX', month: 1, q1: [], q2: [], q3: [], q4: [] };

    // --- INIT ---
    function init() {
        const sel = document.getElementById('citySelect');
        for(let k in CITIES) {
            let opt = document.createElement('option');
            opt.value = k; opt.innerText = CITIES[k].name;
            sel.appendChild(opt);
        }
        fillSelect('sel_q1', PRODUCTS.activations);
        fillSelect('sel_q2', PRODUCTS.renovations);
        fillSelect('sel_q3', PRODUCTS.simples);
        fillSelect('sel_q4', PRODUCTS.empresarial);
        updateDash();
    }

    function fillSelect(id, arr) {
        const s = document.getElementById(id);
        arr.forEach((item, idx) => {
            let o = document.createElement('option');
            o.value = idx; o.innerText = item.name;
            s.appendChild(o);
        });
    }

    function setMonth(m) {
        state.month = m;
        document.querySelectorAll('.month-btn').forEach((b,i)=> b.classList.toggle('active', i+1===m));
        updateDash();
    }

    function updateDash() {
        state.city = document.getElementById('citySelect').value;
        const info = CITIES[state.city];
        const rules = RULES[info.type];
        const mIdx = state.month - 1;

        // Slide 1 UI
        document.getElementById('ui_base').innerText = "$" + info.base.toLocaleString();
        document.getElementById('ui_w_quota').innerText = rules.w_quota[mIdx];
        document.getElementById('m_quota').innerText = rules.f_plus[mIdx] + "x";
        const rText = document.getElementById('ui_recalc_txt').innerText = rules.m_quota[mIdx] + " Act.";
 
        document.querySelectorAll('.disp-city').forEach(e => e.innerText = info.name);

        recalcQuadrants();
        //recalcMonthly();
    }

    // --- SLIDE 3 ---
    function addQuad(qNum) {
        const sel = document.getElementById(`sel_q${qNum}`);
        const qty = parseInt(document.getElementById(`qty_q${qNum}`).value) || 1;
        let itemIndex = sel.value;
        let list;
        
        if(qNum===1) list=PRODUCTS.activations;
        else if(qNum===2) list=PRODUCTS.renovations;
        else if(qNum===3) list=PRODUCTS.simples;
        else list=PRODUCTS.empresarial; 
        
        let template = list[itemIndex];
        
        // Manual renta de gestión for C and D
        let finalRent = template.rent; 
        if(qNum >= 3) {
            finalRent = parseFloat(document.getElementById(`rent_q${qNum}`).value) || 0;
        }

        let item = { ...template, rent: finalRent }; 
        for(let i=0; i<qty; i++) state[`q${qNum}`].push(item);
        recalcQuadrants();
    }

    // --- NUEVA FUNCIÓN: Eliminar elemento individual ---
    function removeItem(qNum, index) {
        // Elimina 1 elemento en la posición 'index' del arreglo correspondiente
        state[`q${qNum}`].splice(index, 1);
        recalcQuadrants();
    }

    function clearQuad(qNum) { state[`q${qNum}`] = []; recalcQuadrants(); }

    function recalcQuadrants() {
        const info = CITIES[state.city];
        const rules = RULES[info.type];
        const mIdx = state.month - 1;
        
        let grandTotal = 0;
        let totalRetention = 0;

        function processList(qNum, list) {
            let total = 0;
            let html = "";
            // Agregamos 'idx' para saber la posición del elemento
            list.forEach((p, idx) => {
                let comm = 0;
                if (qNum === 1) { // Activations
                    let factor = (p.type === 'BASIC') ? 0.5 : rules.f_plus[mIdx];
                    if(info.type === 'MTY') factor = 0.5; // MTY Weekly Fixed
                    comm = p.rent * factor;
                } else if (qNum === 2) { // Renovations con reglas por mes
                    // ● 1) total de activaciones para ver si cumple cuota mensual
                    const totalActs = state.q1.length;
                    // ● 2) cuota mensual según mes seleccionado
                    const monthlyQuota = rules.m_quota[mIdx];
                    // ● 3) total de renovaciones para regla 1.5x
                    const totalRenos = state.q2.length;
                    let factor = 0.5;  // valor base
                    if (totalActs >= monthlyQuota) 
                    {
                        factor = 1.0; // cumplió cuota mensual
                        if (totalRenos >= 10) 
                        {
                            factor = 1.5; // 10+ renovaciones y cuota cumplida
                        }
                    }
                    comm = p.rent * factor;
                    
                } else if (qNum >= 3) { // Simples / B2B
                    comm = p.rent * p.factor;
                }

                if (p.type && !p.type.includes("SIMPLE")) {
                    totalRetention += (comm * 0.15);
                }

                total += comm;
                // HTML modificado para incluir botón de borrar
                html += `
                <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px dashed #eee; padding:2px 0;">
                    <span>${p.name}: $${comm.toFixed(0)}</span>
                    <i class="fa-solid fa-trash" 
                       style="cursor:pointer; color:var(--teal); margin-left:5px; font-size:10px;" 
                       title="Eliminar este ítem"
                       onclick="removeItem(${qNum}, ${idx})">
                    </i>
                </div>`;
            });
            document.getElementById(`list_q${qNum}`).innerHTML = html;
            document.getElementById(`tot_q${qNum}`).innerText = "$" + total.toFixed(0);
            return total;
        }

        grandTotal += processList(1, state.q1);
        grandTotal += processList(2, state.q2);
        grandTotal += processList(3, state.q3);
        grandTotal += processList(4, state.q4);

        // ----- VALIDACIÓN DE CUOTA MENSUAL DE ACTIVACIONES -----
        // 1) Calcular puntos de Activaciones
        let actPoints = 0;
        state.q1.forEach(p => {actPoints += (p.type === "BASIC") ? 0.5 : 1;});
        // 2) Cuota mensual según mes
        const monthlyQuota = rules.m_quota[mIdx];
        // 3) Determinar pago final
        let finalPay = 0;
        // ● Si NO llega a 1.0 puntos → NO cobra nada
        if (actPoints < 1.0) 
        {
            finalPay = 0;
            // ● Si llega a 1.0 pero no cumple cuota → solo base
        } else if (actPoints >= 1.0 && actPoints < monthlyQuota) 
            {
                finalPay = info.base;
                // ● Si cumple cuota → base + comisiones – retención
            } else if (actPoints >= monthlyQuota) 
                {
                    finalPay = info.base + grandTotal - totalRetention;
                }

        let footerHTML = `
             <div class="breakdown-group">
                <span class="breakdown-item">Base: $${info.base} + Comisiones: $${grandTotal.toFixed(0)}</span>
                <span class="breakdown-retention">- Retención (15%): <b>$${totalRetention.toFixed(0)}</b></span>
            </div>
            <div class="final-pay-box">
                <div class="final-pay-label">TOTAL A PAGAR</div>
                <div class="final-pay-val">$${finalPay.toLocaleString()}</div>
            </div>
        `;
        document.getElementById('total_bar_content').innerHTML = footerHTML;
    }

    /* --- SLIDE 4 ---
    function recalcMonthly() {
        const info = CITIES[state.city];
        const rules = RULES[info.type];
        const mIdx = state.month - 1;

        let n_act_basic = parseInt(document.getElementById('in_act_basic').value) || 0;
        let n_act_plus = parseInt(document.getElementById('in_act_plus').value) || 0;
        let n_reno_mass = parseInt(document.getElementById('in_reno_mass').value) || 0;
        let n_simple = parseInt(document.getElementById('in_simple').value) || 0;
        let n_b2b_std = parseInt(document.getElementById('in_b2b_std').value) || 0;
        
        let r_bas = 266; let r_plu = 450; let r_ren = 500; let r_simp = 250; let r_b2b = 417;

        let f_wk_plus = (info.type === 'MTY' || info.type === 'ENS') ? 0.5 : rules.f_plus[mIdx];

        let comm_act_basic = n_act_basic * r_bas * 0.5;
        let comm_act_plus = n_act_plus * r_plu * f_wk_plus;
        let comm_reno = n_reno_mass * r_ren * 1.0;
        let comm_simple = n_simple * r_simp * 1.0; 
        let comm_b2b = n_b2b_std * r_b2b * 1.5; 

        let total_anticipo = comm_act_basic + comm_act_plus + comm_reno + comm_simple + comm_b2b;

        let bonus = 0;
        let total_activations_quota = n_act_basic + n_act_plus;
        let quota = rules.m_quota[mIdx];

        if (info.type === 'MTY') {
            let target_factor = 0.5;
            if (total_activations_quota >= 18) target_factor = 1.5;
            else if (total_activations_quota >= 10) target_factor = 1.0;
            
            let target_pay_plus = n_act_plus * r_plu * target_factor;
            let paid_pay_plus = n_act_plus * r_plu * 0.5;
            bonus += (target_pay_plus - paid_pay_plus);

        } else if (info.type !== 'ENS') {
            if (total_activations_quota >= quota) {
                let target_comm_acts = (n_act_basic * r_bas * 1.0) + (n_act_plus * r_plu * 1.5);
                let paid_comm_acts = comm_act_basic + comm_act_plus;
                bonus += (target_comm_acts - paid_comm_acts);
            }
        }

        if (n_reno_mass >= 10) bonus += (n_reno_mass * r_ren * 0.5);
        if (bonus < 0) bonus = 0;

        // Retention
        let subject_to_retention = (comm_act_basic + comm_act_plus + comm_reno + comm_b2b) + bonus;
        let retention_amount = subject_to_retention * 0.15;

        let base_total = info.base * 4;
        let grand_total = base_total + total_anticipo + bonus - retention_amount;

        document.getElementById('res_base_total').innerText = "$" + base_total.toLocaleString();
        document.getElementById('res_anticipo').innerText = "$" + total_anticipo.toLocaleString(undefined, {maximumFractionDigits:0});
        document.getElementById('res_recalc').innerText = "$" + bonus.toLocaleString(undefined, {maximumFractionDigits:0});
        document.getElementById('res_retention').innerText = "-$" + retention_amount.toLocaleString(undefined, {maximumFractionDigits:0});
        document.getElementById('res_grand_total').innerText = "$" + grand_total.toLocaleString(undefined, {maximumFractionDigits:0});
    }*/

    window.onload = init;
</script>

<!-- SLIDE 1 -->
<div class="slide-container" id="slide1">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="slide-header">
        <span class="slide-title">1. Dashboard: Comisiones Training</span>
        <i class="fa-solid fa-chart-line" style="font-size:24px; color:var(--teal);"></i>
    </div>
    <div class="dashboard-layout">
        <div class="sidebar">
            <h3 style="border-bottom:1px solid #aaa; padding-bottom:10px;">Configuración</h3>
            <label style="font-size:11px; color:var(--mint-light);">CIUDAD / PLAZA</label>
            <select id="citySelect" class="custom-select" onchange="updateDash()"></select>
            <label style="font-size:11px; color:var(--mint-light); margin-top:15px;">MES TRAINING</label>
            <div class="month-selector">
                <button class="month-btn active" onclick="setMonth(1)">1</button>
                <button class="month-btn" onclick="setMonth(2)">2</button>
                <button class="month-btn" onclick="setMonth(3)">3</button>
            </div>
            <div class="salary-card">
                <span style="font-size:10px; letter-spacing:1px; color:var(--mint-light);">BASE SEMANAL</span>
                <span class="salary-val" id="ui_base">$0</span>
            </div>
        </div>
        <div class="content-grid">
            <div class="dash-card">
                <div class="card-head">Escalera de Éxito (Mensual)</div>
                <div class="card-body">
                    <table class="info-table">
                      <tbody><tr style="background:#f0fcfc;"><th>Mes</th><th>Cuota Act.</th><th>Factor</th></tr>
                        <tr style="text-align: center;"><td>Mes 1</td><td>4 Act.</td><td style="font-weight:bold;">1.0 X</td></tr>
                        <tr style="text-align: center;"><td>Mes 2</td><td>6 Act.</td><td style="font-weight:bold;">1.2 X</td></tr>
                        <tr style="text-align: center;"><td>Mes 3</td><td>8 Act.</td><td style="font-weight:bold;">1.5 X</td></tr>
                      </tbody>
                    </table>
                </div>
            </div>
            <div class="dash-card">
                <div class="card-head">Reglas de Conteo</div>
                <div class="card-body">
                    <table class="info-table">
                        <tbody><tr><td>Plan Básico</td><td class="h-val">0.5 Ptos</td></tr>
                        <tr><td>Plan Plus</td><td class="h-val">1.0 Ptos</td></tr>
                    </tbody></table>
                </div>
            </div>
            <div class="dash-card">
                <div class="card-head">Renovaciones (Masivo)</div>
                <div class="card-body">
                    <div id="ui_reno_txt"><ul style="text-align:left; padding-left:15px; margin:0; font-size:13px; line-height:1.4;">
            <li><b>0.5X Semanal:</b> Pago base (Anticipo).</li>
            <li><b>1.0X Total:</b> Si cumples la cuota mensual de Act.</li>
            <li style="color:var(--teal-dark); font-weight:bold;"><b>1.5X Total:</b> Si vendes 10+ Renovaciones Y cumples Cuota Act.</li>
        </ul></div>
                </div>
            </div>
            <div class="dash-card">
                <div class="card-head">Metas del Mes Actual</div>
                <div class="card-body">
                    <div style="text-align:center;">
                        <div class="h-val" id="ui_recalc_txt" style="font-size:24px;"></div>
                        <div style="font-size:14px; color:#666; margin-top:10px;">Promedio Semanal</div>
                        <div class="h-val" id="ui_w_quota" style="font-size:24px;">1 Act.</div>
                        <div class="h-val" id="m_quota" style="font-size:20px; color:var(--teal);">1X</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 2 -->
<div class="slide-container" id="slide2">
    <div class="slide-header">
        <span class="slide-title">2. Proceso y Calidad</span>
    </div>
    <div class="process-layout" style="margin-left:-50px;">
        <div>
            <div class="process-step">
                <div class="p-icon"><i class="fa-solid fa-calendar-check"></i></div>
                <div><h3>Semana Vencida</h3><p>¡Tu esfuerzo tiene recompensa! Las ventas de lunes a domingo se pagan la semana siguiente.</p></div>
            </div>
            <div class="process-step">
                <div class="p-icon"><i class="fa-solid fa-filter"></i></div>
                <div><h3>Prospectación</h3><p>Mes 2 y 3 aumentan la cuota. Mantén tu funnel lleno desde el inicio.</p></div>
            </div>
            <div class="process-step">
                <div class="p-icon"><i class="fa-solid fa-graduation-cap"></i></div>
                <div><h3>Oferta Integral</h3><p>Impulsa tus ingresos aprovechando Renovaciones, Planes Simples, Empresariales, líneas Prepago y también la venta de Seguros.</p></div>
            </div>
            <div class="process-step">
                <div class="p-icon"><i class="fa-solid fa-clock-rotate-left"></i></div>
                <div><h3>Retención del Chargeback</h3><p>Se aplica en las ventas de activaciones y renovaciones Basicos y Plus tanto AVS Masivo como AVS Empresarial.</p></div>
            </div>
        </div>
        <div style="text-align:center; margin-left:-15px;">
            <img src="IMG/img_cuida.png" alt="C.U.I.D.A" style="width: 1050px; max-width: 105%; border-radius: 10px;">
        </div>
    </div>
</div>

<!-- SLIDE 3 -->
<div class="slide-container" id="slide3">
    <div class="slide-header">
        <span class="slide-title">3. Calculadora Multiproducto</span>
        <div style="font-size:14px;">Plaza: <span class="disp-city" style="font-weight:bold;">--</span></div>
    </div>
    <div class="quad-layout">
        <!-- Q1 -->
        <div class="quad-card">
            <div class="quad-title">A) Activaciones Masivo</div>
            <div class="q-input-row">
                <select id="sel_q1" class="q-select"></select>
                <input type="number" id="qty_q1" class="q-qty" value="1">
                <button class="q-btn" onclick="addQuad(1)">+</button>
            </div>
            <div class="q-list" id="list_q1"></div>
            <div class="q-total" id="tot_q1">$0</div>
            <button onclick="clearQuad(1)" style="font-size:10px; border:none; color:red; cursor:pointer;">Limpiar todo</button>
        </div>
        <!-- Q2 -->
        <div class="quad-card">
            <div class="quad-title">B) Renovaciones Masivo</div>
            <div class="q-input-row">
                <select id="sel_q2" class="q-select"></select>
                <input type="number" id="qty_q2" class="q-qty" value="1">
                <button class="q-btn" onclick="addQuad(2)">+</button>
            </div>
            <div class="q-list" id="list_q2"></div>
            <div class="q-total" id="tot_q2">$0</div>
            <button onclick="clearQuad(2)" style="font-size:10px; border:none; color:red; cursor:pointer;">Limpiar todo</button>
        </div>
        <!-- Q3 -->
        <div class="quad-card">
            <div class="quad-title">C) Planes Simples</div>
            <div class="q-input-row">
                <select id="sel_q3" class="q-select"></select>
                <input type="number" id="rent_q3" class="q-input-rent" placeholder="Renta" value="250">
                <input type="number" id="qty_q3" class="q-qty" value="1">
                <button class="q-btn" onclick="addQuad(3)">+</button>
            </div>
            <div class="q-list" id="list_q3"></div>
            <div class="q-total" id="tot_q3">$0</div>
            <button onclick="clearQuad(3)" style="font-size:10px; border:none; color:red; cursor:pointer;">Limpiar todo</button>
        </div>
        <!-- Q4 -->
        <div class="quad-card">
            <div class="quad-title">D) Empresarial</div>
            <div class="q-input-row">
                <select id="sel_q4" class="q-select"></select>
                <input type="number" id="rent_q4" class="q-input-rent" placeholder="Renta" value="417">
                <input type="number" id="qty_q4" class="q-qty" value="1">
                <button class="q-btn" onclick="addQuad(4)">+</button>
            </div>
            <div class="q-list" id="list_q4"></div>
            <div class="q-total" id="tot_q4">$0</div>
            <button onclick="clearQuad(4)" style="font-size:10px; border:none; color:red; cursor:pointer;">Limpiar todo</button>
        </div>
    </div>
     <div class="total-bar" id="total_bar_content">
            <div class="breakdown-group">
                <span class="breakdown-item">Base: <b>$2,000</b> + Comisiones: <b>$0</b></span>
                <span class="breakdown-retention">- Retención (15%): <b>$0</b></span>
            </div>
            <div class="final-pay-box">
                <div class="final-pay-label">TOTAL A PAGAR</div>
                <div class="final-pay-val">$2,000</div>
            </div>
        </div>
</div>

<!-- SLIDE 4 
<div class="slide-container" id="slide4">
    <div class="slide-header">
        <span class="slide-title">4. Escenario Mensual Real</span>
        <div style="font-size:14px;">Plaza: <span class="disp-city" style="font-weight:bold;">--</span></div>
    </div>
    <div class="monthly-layout">
        <div class="m-grid-container">
            <div class="m-card"><h4>Act. Básicas</h4><input type="number" id="in_act_basic" value="6" onchange="recalcMonthly()"></div>
            <div class="m-card"><h4>Act. Plus</h4><input type="number" id="in_act_plus" value="4" onchange="recalcMonthly()"></div>
            <div class="m-card"><h4>Reno Masivo</h4><input type="number" id="in_reno_mass" value="10" onchange="recalcMonthly()"></div>
            <div class="m-card"><h4>Simple (Mass)</h4><input type="number" id="in_simple" value="2" onchange="recalcMonthly()"></div>
            <div class="m-card"><h4>Empresarial</h4><input type="number" id="in_b2b_std" value="1" onchange="recalcMonthly()"></div>
        </div>
        <div class="final-summary">
            <div><h3 style="color:var(--teal);">Desglose Final</h3><p style="font-size:12px; color:#666;">Base + Comisiones + Bonos</p></div>
            <ul class="summary-list">
                <li><span>(+) Base Semanal (4sems)</span> <span id="res_base_total">$0</span></li>
                <li><span>(+) Comisiones Anticipadas</span> <span id="res_anticipo">$0</span></li>
                <li><span>(+) Recálculo Mes</span> <span id="res_recalc" style="color:var(--aqua);">$0</span></li>
                <li class="retention-row"><span>(-) Retención 15%</span> <span id="res_retention">-$0</span></li>
                <li><span>(=) GRAN TOTAL</span> <span id="res_grand_total">$0</span></li>
            </ul>
        </div>
    </div>
</div>-->

</body>
</html>






